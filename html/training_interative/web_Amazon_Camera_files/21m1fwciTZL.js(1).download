'use strict';mix_d("SimilaritiesUICards__p13n-desktop-sims-fbt:p13n-desktop-sims-fbt__kM-auN5L",["exports","tslib","@c/browser-operations","@c/scoped-dom","@c/error-handling"],function(M,y,V,W,X){function C(b){return b&&"object"===typeof b&&"default"in b?b:{"default":b}}var Y=C(V),d=C(W),D=C(X),Z=function(b,e){e?b.classList.add("add-to-cart-item-disabled"):b.classList.remove("add-to-cart-item-disabled");b.querySelectorAll("input").forEach(function(l){e?l.setAttribute("disabled","true"):l.removeAttribute("disabled")})},
N=function(b,e){b=d["default"].cardRoot.querySelector("#add-to-cart-item-"+b);if(!b)return D["default"].error('Missing Add to Cart item!", "add-to-cart.client.item-state-handler',"changeItemStatus");if(!(e&&b.classList.contains("add-to-cart-item-disabled")||!e&&!b.classList.contains("add-to-cart-item-disabled"))){Z(b,e);var l;for(b=e=0;3>b;b++){var a=d["default"].cardRoot.querySelector("#add-to-cart-item-"+b);if(!a)break;a.classList.contains("add-to-cart-item-disabled")||e++}var c=d["default"].cardRoot.getElementsByClassName("add-to-cart-section")[0];
b=c.getElementsByClassName("a-button-text")[0];a=c.getElementsByClassName("add-to-cart-button")[0];c=c.getElementsByClassName("add-to-cart-string-data")[0];if(null===(l=null===c||void 0===c?void 0:c.dataset)||void 0===l?0:l.displayStringList)var g=JSON.parse(c.dataset.displayStringList);a&&(0===e?a.classList.add("a-button-disabled"):a.classList.remove("a-button-disabled"));b?g&&g.length>e?b.innerText=g[e]:D["default"].error('Missing Add to Cart string!", "add-to-cart.client.item-state-handler',"updateButtonString"):
D["default"].error('Missing Add to Cart button!", "add-to-cart.client.item-state-handler',"updateButtonString")}},U=function(b){return y.__awaiter(void 0,void 0,void 0,function(){var e,l,a,c,g,f,t,E,m,F,u,G,n,H,p,q,v,I,w,O,J;return y.__generator(this,function(K){a=d["default"].cardRoot.getElementsByClassName("cardRoot")[0];c=1;a&&a.dataset.count&&(c=Number(a.dataset.count));a&&a.dataset.components&&(g=JSON.parse(a.dataset.components));a&&a.dataset.addToCart&&(f=JSON.parse(a.dataset.addToCart));a&&
a.dataset.priceTotals&&(t=JSON.parse(a.dataset.priceTotals));a&&a.dataset.pointsTotal&&(E=JSON.parse(a.dataset.pointsTotal));m=d["default"].cardRoot.getElementsByClassName(b.addAllButton)[0];F=!0;m&&(F=!1);if(g&&t){K=g;var P=c,z=F;void 0===z&&(z=!1);for(var Q=[],R=[],h=0;h<P;h++){var r=h+1;1<r&&(Q[h]=d["default"].cardRoot.getElementsByClassName("thumbnailPlus-"+String(r))[0]);R[h]=d["default"].cardRoot.getElementsByClassName("thumbnail-"+String(r))[0]}var L=!1,S=0,T="";for(h=0;h<P;h++){r=String(h+
1);var x=Q[h],A=R[h];K[r]&&K[r].checked?(z&&N(h,!1),S++,T+=r,0===h?L=!0:x&&(L?x.style.display="unset":(L=!0,x.style.display="none")),A&&(A.style.display="unset")):(z&&N(h,!0),x&&(x.style.display="none"),A&&(A.style.display="none"))}e=S;l=T;u=e;G=t[l];n=d["default"].cardRoot.getElementsByClassName(b.totalLabel)[0];H=d["default"].cardRoot.getElementsByClassName(b.totalAmount)[0];p=d["default"].cardRoot.getElementsByClassName(b.addItems)[0];q=d["default"].cardRoot.getElementsByClassName(b.chooseItems)[0];
v=d["default"].cardRoot.getElementsByClassName(b.actionDetails)[0];0===u?(p&&(p.style.display="none"),n&&(n.style.display="none"),q&&(q.style.display="unset"),v&&(v.style.visibility="hidden")):(G?(n&&H&&(H.innerText=G,n.style.display="block"),p&&(p.style.display="none"),q&&(q.style.display="none")):(p&&(p.style.display="inline-block"),q&&(q.style.display="none"),n&&(n.style.display="none")),v&&(v.style.visibility="visible"));a&&g&&E&&(I=d["default"].cardRoot.getElementsByClassName(b.pointsAmount)[0],
w=d["default"].cardRoot.getElementsByClassName(b.totalPointsLabel)[0],(O=E[l])?w&&I&&(I.innerText=O,w.style.display="block"):w&&(w.style.display="none"));m&&(J=m.getElementsByClassName("a-button-text")[0],0===u?m.classList.contains("a-button-disabled")||m.classList.add("a-button-disabled"):(m.classList.contains("a-button-disabled")&&m.classList.remove("a-button-disabled"),J&&f&&f.length>=u&&(J.innerText=f[u-1])))}return[2]})})},B;(function(b){b.clickHandler="clickHandler";b.checkHandler="checkHandler";
b.popupHandler="popupHandler"})(B||(B={}));var k={simsFbtContainter:"_p13n-desktop-sims-fbt_fbt-desktop_sims-fbt-containter__2Cffh",thumbnailBox:"_p13n-desktop-sims-fbt_fbt-desktop_thumbnail-box__4jnIT",thumbnailPlus:"_p13n-desktop-sims-fbt_fbt-desktop_thumbnail-plus__zdWox",productBox:"_p13n-desktop-sims-fbt_fbt-desktop_product-box__3PBxY",itemDetailsPerAsin:"_p13n-desktop-sims-fbt_fbt-desktop_item-details-per-asin__3DtF1",fbtItemCheck:"_p13n-desktop-sims-fbt_fbt-desktop_fbt-item-check__pUIoy",addAllButton:"_p13n-desktop-sims-fbt_fbt-desktop_add-all-button__1TRXG",
totalLabel:"_p13n-desktop-sims-fbt_fbt-desktop_total-label__dI983",totalPointsLabel:"_p13n-desktop-sims-fbt_fbt-desktop_total-points-label__3r09H",addItems:"_p13n-desktop-sims-fbt_fbt-desktop_add-items__16weX",chooseItems:"_p13n-desktop-sims-fbt_fbt-desktop_choose-items__15UQx",totalAmount:"_p13n-desktop-sims-fbt_fbt-desktop_total-amount__wLVdU",pointsAmount:"_p13n-desktop-sims-fbt_fbt-desktop_points-amount__1SNdT",priceAddToCartBox:"_p13n-desktop-sims-fbt_fbt-desktop_price-add-to-cart-box__3OUdK",
shipMessageBox:"_p13n-desktop-sims-fbt_fbt-desktop_ship-message-box__t-OOr",shippingInfoShowBox:"_p13n-desktop-sims-fbt_fbt-desktop_shipping-info-show-box__17yWM",showDetailsBox:"_p13n-desktop-sims-fbt_fbt-desktop_show-details-box__-R3Xb",showDetails:"_p13n-desktop-sims-fbt_fbt-desktop_show-details__3GnPL",hideDetails:"_p13n-desktop-sims-fbt_fbt-desktop_hide-details__28l17",simsFbtUnselectedItem:"_p13n-desktop-sims-fbt_fbt-desktop_sims-fbt-unselected-item__VQmZx",simsFbtRows:"_p13n-desktop-sims-fbt_fbt-desktop_sims-fbt-rows__2LJXs",
bucketDivider:"_p13n-desktop-sims-fbt_fbt-desktop_bucket-divider__25poP",titleTruncate:"_p13n-desktop-sims-fbt_fbt-desktop_title-truncate__1pPAM",detailRowElement:"_p13n-desktop-sims-fbt_fbt-desktop_detail-row-element__2WDgq",detailRowElementLeftMargin:"_p13n-desktop-sims-fbt_fbt-desktop_detail-row-element-left-margin__UkZ8O",actionDetails:"_p13n-desktop-sims-fbt_fbt-desktop_action-details__18ZiI"};M._operationNames=[];M.card=function(){return y.__awaiter(void 0,void 0,void 0,function(){var b,e;return y.__generator(this,
function(l){b=Y["default"].setup().define;if(!d["default"].cardRoot)return[2];U(k);e=!0;b(B.clickHandler,"click",function(a){if(a.event.target){a=d["default"].cardRoot.getElementsByClassName(k.shippingInfoShowBox);var c=d["default"].cardRoot.getElementsByClassName(k.showDetails)[0],g=d["default"].cardRoot.getElementsByClassName(k.hideDetails)[0];c&&(e?(c.style.display="none",g.style.display="unset",a&&([].forEach.call(a,function(f,t){f.style.display="block"}),e=!1)):(c.style.display="unset",g.style.display=
"none",a&&[].forEach.call(a,function(f,t){f.style.display="none"}),e=!0))}});b(B.checkHandler,"click",function(a){a=a.event.target;if(!a||"fbtCheck"===a.id.substr(0,8)){for(;a&&!a.classList.contains(k.fbtItemCheck);)a=a.parentElement;if(a){var c=a.id,g=d["default"].cardRoot.getElementsByClassName("cardRoot")[0],f=void 0;g&&g.dataset.components&&(f=JSON.parse(g.dataset.components));f&&f[c]&&(f[c].checked=!f[c].checked);f&&f[c].checked&&(a.classList.contains(k.simsFbtUnselectedItem)&&a.classList.remove(k.simsFbtUnselectedItem),
a.classList.contains(k.fbtCheckDetails)||a.classList.add(k.fbtCheckDetails));f&&!f[c].checked&&(a.classList.remove(k.fbtCheckDetails),a.classList.add(k.simsFbtUnselectedItem));g.dataset.components=JSON.stringify(f);U(k)}}});return[2]})})}});
