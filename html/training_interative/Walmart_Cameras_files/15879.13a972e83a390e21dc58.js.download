(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15879,17845],{15879:function(e,a,s){"use strict";s.d(a,{ZP:function(){return O}});var r=s(30567),n=s(24934),t=s(52406),i=s(40118),l=s(59240),c=s(76395),o=s(9577),d=s(85235),u=s(49220),p=s(10856),m=s(81261),f=s(17845),g=s(94358),v=s.n(g),y=s(95787);const h=({serviceTitle:e,selectedSubtext:a,expanded:s,serviceSubTitle:n,isCartAccScheduling:t,tireInstallNotAvailable:i})=>(0,r.jsxs)("div",{className:v()("flex items-left flex-column",{ml3:t}),style:{marginRight:"auto"},children:[(0,r.jsx)(f.Z,{as:"h3",className:t?"f5 black":"",children:e}),a&&!s?(0,r.jsx)(o.Z,{iconType:"Check",className:v()("flex",{mt1:t}),showIcon:!0,extraIconMargin:!0,children:a}):n&&!i&&(0,r.jsx)("p",{className:"ma0 f6 o-70",children:n})]}),x=(e,a)=>e.currentPrice&&"TIRE_INSTALLATION"!==a?e.selectedDisplayName+" - "+e.currentPrice.priceString:""+e.selectedDisplayName,N=(e,a)=>e===y.Fn?y.OZ.HELP:e===y.xq?"productPage"===a?""+y.OZ.ACC:y.OZ.ACC+" (Pick up only)":y.OZ.PROTECTION,T=({serviceType:e,groupType:a,offerId:s,price:r,pageName:n})=>{if("cart"===n)return{ta:{ss:{sg:e,sr:a,sp:r,ao:s},mo:"addOnServices"},pg:{nm:n}}},b=({groups:e,serviceType:a,DetailOverlay:s,onItemSelect:n,selectedOption:t,pageName:l,isCartAccScheduling:c})=>{const o="productPage"===l&&a===y.xq;return(0,r.jsxs)("div",{style:o?{marginLeft:"40px"}:{},children:[null==e?void 0:e.map((e=>(0,r.jsxs)("div",{"data-testid":a+"_Group",role:"radiogroup","aria-labelledby":""+e.groupType,children:[(0,r.jsxs)("div",{className:v()("inline-flex lh-title pt3",{ml3:c}),children:["APPLE_CARE"===e.groupType?(0,r.jsx)(p.Z,{src:"//i5.walmartimages.com/dfw/63fd9f59-48db/f3a7ea93-6a99-406f-a0d9-1d4ec2053aa9/v1/applecareplus-logo.png",alt:"AppleCare Logo",preload:!1,width:16,height:16,"aria-hidden":!0,"data-testid":"APPLE_CARE_Icon",className:"mr3"}):o?null:(0,r.jsx)(u.J,{size:"small",name:y.TC[e.groupType],className:"mr3","aria-hidden":!0,"data-testid":e.groupType+"_Icon"}),(0,r.jsx)("span",{className:"mr2 mid-gray lh-title f6",id:""+e.groupType,children:"Add "+(o||c?"a ":"")+e.groupTitle}),s&&(0,r.jsx)(s,{content:e.shortDescription||"",logoImageUrl:e.assetUrl||"",title:e.groupTitle,groupType:e.groupType,serviceType:a})]}),E({services:e.services,groupType:e.groupType,serviceType:a,onItemSelect:n,selectedOption:t,pageName:l,isItemPageTireInstallation:o})]},e.groupType))),(0,r.jsx)(i.i,{className:"mt3 ml5"}),(0,r.jsx)(m.Z,{label:N(a,l),value:y.OZ.VALUE,name:a,onChange:()=>n({offerId:a+y.OZ.VALUE,selectedDisplayName:"",currentPrice:null,groupType:""}),checked:a+y.OZ.VALUE===t,className:v()("w-100 mt3",{ml5:!o}),onLinkName:"cart"===l?"addService":void 0,onLinkExtras:T({serviceType:a,groupType:"none",offerId:"none",price:"",pageName:l})})]})},E=({services:e,groupType:a,serviceType:s,onItemSelect:n,selectedOption:t,pageName:i,isItemPageTireInstallation:c})=>null==e?void 0:e.map(((e,o)=>{var d,u;const p={"aria-labelledby":"meta-data-"+o};return(0,r.jsxs)("div",{"data-testid":e.displayName,children:[(0,r.jsx)(m.Z,{label:e.displayName,value:e.displayName,name:s,onChange:()=>{n({offerId:e.offerId,selectedDisplayName:x(e,a),currentPrice:e.currentPrice,groupType:a})},checked:e.offerId===t,className:v()("w-100 mt3",{ml5:!c}),onLinkName:"cart"===i?"addService":void 0,onLinkExtras:T({serviceType:s,groupType:a,price:(null==e||null==(d=e.currentPrice)||null==(u=d.price)?void 0:u.toString())||"",offerId:e.offerId,pageName:i}),...e.serviceMetaData&&p}),e.serviceMetaData&&(0,r.jsxs)("div",{id:"meta-data-"+o,className:"f6 gray",style:c?{marginLeft:"32px"}:{marginLeft:"62px",marginTop:"2px"},children:[(0,r.jsx)(l.T,{children:e.displayName}),e.serviceMetaData]})]},e.offerId)})),I=({serviceTitle:e,selectedSubtext:a,expanded:s,serviceSubTitle:r,serviceType:n})=>a&&!s?n===y.xq?e+" selected, "+a:e+a:e+r,S=(e,a,s,n)=>{const t="productPage"===a;return e?(0,r.jsxs)("div",{className:v()("flex mb3",{"flex-column mt1":t,"justify-between ":!t}),style:t?{marginLeft:"40px"}:{marginLeft:0},children:[n&&(0,r.jsx)("div",{className:v()("ma0 f6 black lh-copy",{ml3:s}),children:n}),(0,r.jsx)("div",{id:"find-nearby-store",children:(0,r.jsx)(e,{})})]}):null},A=e=>(0,r.jsx)(u.J,{size:"medium",name:y.TC.TIRE_INSTALLATION,className:v()("mr3",{nt3:!e}),"aria-hidden":!0,"data-testid":"TIRE_INSTALLATION_Icon"});var C=e=>{const{serviceData:a,selectCallback:s,selectedServices:n,detailOverlay:l,pageName:o,autoExpanded:p,isAccScheduling:m,findStoreOverlay:f}=e,{serviceType:g,serviceTitle:N,serviceSubTitle:T,groups:E}=a,{0:C,1:L}=(0,t.useState)(p||!1),{0:O,1:j}=(0,t.useState)(""+(g+y.OZ.VALUE)),{0:w,1:_}=(0,t.useState)(""),k=C?"collapse":"expand",P=g===y.xq&&Boolean(null==E?void 0:E[0].unavailabilityReason),R=null==E?void 0:E[0].unavailabilityReason,Z=(0,t.useCallback)(((e,a)=>{for(const s of e.services)if(s.offerId===a[e.groupType]){_(x(s,e.groupType));break}}),[]),D=Boolean("cart"===o&&m);(0,t.useEffect)((()=>{if(n&&null!=E&&E.length)for(let e=0;e<E.length;e++){const a=E[e];if(n[a.groupType]){j(n[a.groupType]),Z(a,n);break}e===E.length-1&&(j(""+(g+y.OZ.VALUE)),_(""))}}),[n,E]);return(0,r.jsxs)("section",{"data-testid":g+"_SERVICE",className:v()("expand-collapse-section",{"mt3 bt b--near-white":D}),children:[(0,r.jsxs)("div",{className:"accordion-heading","data-testid":g,children:[g===y.xq&&"productPage"===o&&E&&A(P),h({serviceTitle:N,selectedSubtext:w,expanded:C,serviceSubTitle:T,isCartAccScheduling:D,tireInstallNotAvailable:P}),!P&&(0,r.jsx)(d.Z,{onLinkName:null==g?void 0:g.toLowerCase(),"aria-controls":"","aria-label":I({serviceTitle:N,selectedSubtext:w,expanded:C,serviceSubTitle:T,serviceType:g}),"aria-expanded":C,onClick:()=>L(!C),type:"button",useLDButton:!1,className:"accordion-heading-button nt4 pa0",onLinkExtras:{ta:{sg:g,mo:"addOnServices"},li:{nm:k},nm:{nm:k},pg:{nm:o}},children:(0,r.jsx)(u.J,{"aria-hidden":"true",className:"pa0",name:C?"ChevronUp":"ChevronDown",size:"medium"})})]}),P&&S(f,o,D,R),!P&&(0,r.jsx)(c.U,{className:"expand-collapse-content accordion-collapse pr5",isOpen:C,children:b({groups:E,serviceType:g,DetailOverlay:l,onItemSelect:({offerId:e,selectedDisplayName:a,currentPrice:r,groupType:n})=>{const t=e.includes(y.OZ.VALUE)?"":e;j(e),_(a||""),s({offerId:t||"",serviceType:g,currentPrice:r||null,groupType:n})},selectedOption:O,pageName:o,isCartAccScheduling:D})}),(0,r.jsx)(i.i,{})]})};const L=e=>{const a=[];return e.forEach((e=>{var s;null==(s=e.groups)||s.forEach((s=>{var r;null==(r=s.services)||r.forEach((r=>{var n;a.push({sg:e.serviceType,sr:s.groupType,sp:""+((null==(n=r.currentPrice)?void 0:n.price)||0),ao:r.offerId,us:r.usItemId})}))}))})),a};var O=({servicesList:e,selectedServices:a,selectCallback:s,detailOverlay:i,pageName:l,autoExpanded:c,expandFirstService:o,isAccScheduling:d,findStoreOverlay:u,addOnServiceRef:p,updateAdOnServiceRef:m})=>{const f=(0,t.useMemo)((()=>(e=>null!=e&&e.length?e.reduce(((e,a)=>(e[a.groupType]=a.offerId,e)),{}):{})(a)),[a]),g=(0,n.wG)(),v=(0,t.useRef)(null),y=(0,t.useCallback)((e=>{const a=v.current;a&&!e?window.cancelAnimationFrame(a):!a&&e&&(v.current=window.requestAnimationFrame((()=>{m&&m(e)})))}),[m]);return(0,t.useEffect)((()=>{g({context:l,action:"moduleView",name:"addOnServices",payload:{ta:{as:L(e),nm:"addOnServices",ty:"external"},pg:{nm:l}}})}),[]),(0,r.jsx)(t.Fragment,{children:e.map(((e,a)=>{const n=c||(0===a?o:c);return(0,r.jsxs)("div",{children:[(0,r.jsx)(C,{serviceData:e,selectCallback:s,selectedServices:f,detailOverlay:i,pageName:l,autoExpanded:n,isAccScheduling:d,findStoreOverlay:u}),"middle"===p&&0===a&&(0,r.jsx)("span",{ref:y})]},e.serviceType)}))})}},95787:function(e,a,s){"use strict";let r;s.d(a,{TC:function(){return r},dU:function(){return n},xq:function(){return t},Fn:function(){return i},OZ:function(){return l}}),function(e){e.WPP="WalmartShield",e.APPLE_CARE="Apple",e.IN_HOME_INSTALLATION="Installation",e.TIRE_INSTALLATION="Wrench"}(r||(r={}));const n="ACC",t="ACC_SERVICE",i="HOME_SERVICE",l={PROTECTION:"I don't need protection at this time",HELP:"I don't need help",VALUE:"_NO_SELECT",ACC:"I don't need installation"}},81261:function(e,a,s){"use strict";s.d(a,{Z:function(){return m}});var r=s(30567),n=s(52406),t=s(94358),i=s.n(t),l=s(68706),c=s.n(l);const o={},d=(e,a)=>n.useMemo((()=>a||(e=>{const a=o[e];let s=0;return"undefined"!==typeof a&&(s=a+1),o[e]=s,"ld_"+e+"_"+s})(e)),[e,a]),u=n.forwardRef(((e,a)=>{const{a11yLabelledBy:s,checked:n=!1,className:t,disabled:l=!1,id:o,label:u,name:p,onChange:m,radioProps:f={},value:g,...v}=((e,a,s=!1)=>{const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n];"UNSAFE_className"===n||"className"===n?r.className=i()(r.className,a):"UNSAFE_style"===n||"style"===n?r.style=r.style?{...r.style,...a}:a:r[n]=a}return r})(e,0,!0);(u?1:0)+(s?1:0)===1||console.error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");const{className:y,...h}=f,x=d("radio",o);return(0,r.jsxs)("label",{className:i()(c().label,n&&c().checked,l&&c().disabled,t),htmlFor:x,...v,children:[(0,r.jsx)("input",{checked:n,className:i()(c().input,y),disabled:l,id:x,name:p,onChange:m,ref:a,type:"radio",...s&&{"aria-labelledby":s},...g&&{value:g},...h}),(0,r.jsxs)("svg",{"aria-hidden":!0,className:i()(c().radio,!!u&&c().hasLabel),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{className:c().radioRing,cx:"10",cy:"10",r:"9"}),(0,r.jsx)("circle",{className:c().radioDot,cx:"10",cy:"10",r:"6"})]}),u]})}));u.displayName="DeprecatedRadio";var p=s(66504);var m=(0,n.forwardRef)(((e,a)=>{const s=(0,n.useRef)(null),{onLinkName:t,onLinkExtras:i,...l}=e,c=(0,p.C)(s,{onLinkName:t,onLinkExtras:i,onClick:e.onChange});return(0,r.jsx)(u,{...l,ref:e=>{"function"===typeof a?a(e):a&&(a.current=e),s.current=e},onChange:c})}))},17845:function(e,a,s){"use strict";s.d(a,{Z:function(){return o}});var r=s(30567),n=s(94358),t=s.n(n);var i=s(33655),l=s.n(i);const c=e=>{const{as:a="span",className:s,variant:n="1",...i}=((e,a,s=!1)=>{const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n];"UNSAFE_className"===n||"className"===n?r.className=t()(r.className,a):"UNSAFE_style"===n||"style"===n?r.style=r.style?{...r.style,...a}:a:r[n]=a}return r})(e,0,!0);return(0,r.jsx)(a,{className:t()(l().subheading,"1"===n&&l().subheading1,"2"===n&&l().subheading2,s),...i})};var o=c},68706:function(e){e.exports={label:"w_EY",checked:"w_EZ",disabled:"w_Ea",input:"w_Eb",radio:"w_Ec",hasLabel:"w_Ed",radioRing:"w_Ee",radioDot:"w_Ef"}},33655:function(e){e.exports={subheading:"w_I",subheading1:"w_J",subheading2:"w_K"}}}]);